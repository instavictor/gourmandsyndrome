(()=>{"use strict";var e={80:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t},e}(),o=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function i(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}var s=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){this._tokenToIdfCache={};var r,o=this._tokenMap;"object"!=typeof o[e]?o[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=o[e]).$totalNumOccurrences++;var i=r.$uidMap;"object"!=typeof i[t]?(r.$numDocumentOccurrences++,i[t]={$document:n,$numTokenOccurrences:1}):i[t].$numTokenOccurrences++},t.search=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i,s=e[r],a=this._tokenMap[s];if(!a)return[];if(0===r)for(var c=0,l=(i=Object.keys(a.$uidMap)).length;c<l;c++)n[u=i[c]]=a.$uidMap[u].$document;else for(c=0,l=(i=Object.keys(n)).length;c<l;c++){var u=i[c];"object"!=typeof a.$uidMap[u]&&delete n[u]}}var h=[];for(var u in n)h.push(n[u]);var f=this._createCalculateTfIdf();return h.sort((function(n,r){return f(e,r,t)-f(e,n,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,s){for(var a=0,c=0,l=r.length;c<l;++c){var u,h=r[c],f=n(h,s);f===1/0&&(f=0),u=t instanceof Array?o&&i(o,t):o&&o[t],a+=(void 0!==e[h]&&void 0!==e[h].$uidMap[u]?e[h].$uidMap[u].$numTokenOccurrences:0)*f}return a}},e}(),a=/[^a-zа-яё0-9\-']+/i,c=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(a).filter((function(e){return e}))},e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new r,this._searchIndex=new s(e),this._sanitizer=new o,this._tokenizer=new c,this._documents=[],this._searchableFields=[]}var t,n,a=e.prototype;return a.addDocument=function(e){this.addDocuments([e])},a.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},a.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},a.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},a.indexDocuments_=function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,s=this._tokenizer,a=this._uidFieldName,c=0,l=e.length;c<l;c++){var u,h=e[c];u=a instanceof Array?i(h,a):h[a];for(var f=0,d=t.length;f<d;f++){var p,v=t[f];if(null!=(p=v instanceof Array?i(h,v):h[v])&&"string"!=typeof p&&p.toString&&(p=p.toString()),"string"==typeof p)for(var y=s.tokenize(r.sanitize(p)),m=0,b=y.length;m<b;m++)for(var g=y[m],_=n.expandToken(g),S=0,w=_.length;S<w;S++){var E=_[S];o.indexDocument(E,u,h)}}}},t=e,(n=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&l(t.prototype,n),e}();let h=0,f=0;const d=class{static start(){h=Date.now()}static stop(){return f=Date.now(),(f-h)/1e3}};var p,v,y,m;!function(e){e.LOCALE="gs_locale",e.SORT="gs_sort",e.PAGE_SIZE="gs_page_size"}(p||(p={})),function(e){e[e.FRAG_SIZE=40]="FRAG_SIZE"}(v||(v={})),function(e){e.RELEVANCY="RELEVANCY",e.NEWEST="NEWEST",e.OLDEST="OLDEST",e.ALL="ALL"}(y||(y={})),function(e){e.NYC="NYC",e.LAX="LAX",e.ANC="ANC",e.CHI="CHI",e.DC="DC"}(m||(m={}));const b=(e,t)=>{const n=document.createElement("section"),r=new Date(e.date),o=`${["Jan","Feb","March","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]} ${r.getDate()}, ${r.getFullYear()}`,i=e.contents.split(" ");let s;if(s=i.length>v.FRAG_SIZE?i.slice(0,v.FRAG_SIZE).join(" ").concat(" ..."):i.join(" "),s.toLowerCase().indexOf(t.toLowerCase())>=0){const e=new RegExp(t,"ig");s=s.replace(e,(e=>`<b>${e}</b>`))}let a="";e.meta[void 0]&&(a=`<div class="meta neighborhood">\n            <i class="fas fa-home icons"></i> \n            <span>${e.meta[void 0].map((t=>{const n=t.replace(" ","-").toLowerCase();return`<a href="/${e.meta.locale}/neighborhood/${n}">${t}</a>`})).join(", ")}</span>\n        </div>`);let c="";return e.image&&(c=`<a href="${e.permalink}"><img src="${e.image}"></a>`),n.innerHTML=`\n        <a href="${e.permalink}" class="title">${e.title}</a>\n        ${c}\n        <div class="meta">                        \n            <i class="fas fa-globe icons"><a href="/${e.meta.locale}">${e.meta.locale.toUpperCase()}</a></i>\n        </div>\n        ${a}\n        <div class="brief"><a href="${e.permalink}"><p>${o} - ${s}</p></a></div>\n        \n        <div style="clear: both;"></div>\n    `,n},g=e=>{const t=d.stop(),{startIndex:n,endIndex:r,totalResults:o}=e,i=document.createElement("div");i.className="stats";let s="";return s=n===r&&0===n?`Displaying 0 results in ~${t}`:1===o?`Displaying 1 result in ~${t}`:`Displaying ${n+1} to ${r} of ${o} results in ~${t} seconds`,i.innerHTML=s,i},_=(e,t)=>e.date>t.date?-1:t.date>e.date?1:0,S=(e,t)=>e.date<t.date?-1:t.date<e.date?1:0;const w=new class{constructor(){this._page=1,this.onDumpLoad=this.onDumpLoad.bind(this);const e=this.onDumpLoad.bind(this);this.onPageClick=this.onPageClick.bind(this);const t=this.showSearchTitle.bind(this);d.start(),fetch("/search/dump.json").then((n=>{return r=this,o=void 0,s=function*(){let r=!1;const o=yield n.text();try{e(JSON.parse(o))}catch(e){console.error(e),r=!0}if(r){t();const e=document.querySelector(".search-results"),n=document.createElement("div");n.setAttribute("class","gcse-searchresults-only"),n.setAttribute("personalizedAds","false"),e.appendChild(n)}},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(e){t(e)}}function a(e){try{c(s.throw(e))}catch(e){t(e)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,a)}c((s=s.apply(r,o||[])).next())}));var r,o,i,s})).catch((e=>{console.error(e)}))}showSearchTitle(){let e=window.location.search||"";e=e.substr(3);try{e=e.replace(/\+/g," "),e=decodeURIComponent(e)}catch(e){}return document.querySelector("#content.search .title .search-term").textContent=`${e}`,e}showSearchResults(){if("/search/"===window.location.pathname){let e=window.location.search||"";if(e.length>3){e=this.showSearchTitle();const t=e.toLowerCase(),n=this._searcher.search(t),r=document.getElementsByClassName("search-results");for(;r[0].firstChild;)r[0].firstChild.remove();if(n.length>0){switch(this._sortBy){case y.NEWEST:n.sort(_);break;case y.OLDEST:n.sort(S);break;case y.RELEVANCY:default:console.log(n),n.sort(((e,n)=>((e,t,n)=>{const r=e.title.toLowerCase(),o=t.title.toLowerCase();if(r.includes(n)&&o.includes(n))return e.date>t.date?-1:t.date>e.date?1:0;if(r.includes(n))return-1;if(o.includes(n))return 1;const i=["lastmod","date"];let s;for(s in e.meta)if(s.startsWith(e.meta.locale)&&!i.includes(s)){const r=e.meta[s],o=t.meta[s],i=e=>new RegExp(n,"ig").test(e),a=r&&r.some(i),c=o&&o.some(i);if(a&&c){if(e.date>t.date)return-1;if(t.date>e.date)return 1}if(a)return-1;if(c)return 1}return 0})(e,n,t)))}if(r[0]){const t=document.createDocumentFragment();isNaN(+this._pageSize)&&(this._pageSize=n.length.toString());let o=this._page*+this._pageSize;o>n.length&&(o=n.length),isNaN(o)&&(o=+this._pageSize===n.length?n.length:10);let i=(this._page-1)*+this._pageSize;i>=n.length&&(i=n.length-1);const s={page:this._page,pageSize:+this._pageSize,startIndex:i,endIndex:o,totalResults:n.length};t.appendChild(g(s));for(let r=i;r<o;r++)t.appendChild(b(n[r],e));const a=((e,t)=>{let n=e.totalResults/e.pageSize;if(n=0===n?1:Math.ceil(n),1!==n){const r=document.createElement("div");r.className="pagination-selector";const o=Array(n).fill(null).map(((t,n)=>`\n                <a data-value="${n+1}" class="${n+1===e.page?"active":""}">${n+1}</a>\n            `)).join("");return r.innerHTML=`\n            ${o}\n        `,r.querySelectorAll("a").forEach((e=>{e.addEventListener("click",(e=>{e.stopPropagation(),e.preventDefault();const n=+e.target.getAttribute("data-value");t(n)}))})),r}})(s,this.onPageClick);a&&t.appendChild(a),r[0].append(t)}}else{const e={page:this._page,pageSize:+this._pageSize,startIndex:0,endIndex:0,totalResults:0},t=document.createDocumentFragment();t.appendChild(g(e)),r[0].append(t)}}}}onPageClick(e){this._page=e,window.scrollTo(0,0),d.start(),this.showSearchResults()}setupEventListeners(){const e=document.querySelector("#search-sort-by"),t=localStorage.getItem(p.SORT);t&&(this._sortBy=e.value=t),e.onchange=function(e){const{selectedIndex:t}=e.target,n=e.target.options[t].value;this._sortBy=n,localStorage.setItem(p.SORT,n),d.start(),this.showSearchResults()}.bind(this);const n=document.querySelector("#search-page-size"),r=localStorage.getItem(p.PAGE_SIZE)||"10";r&&(this._pageSize=n.value=r),n.onchange=function(e){const{selectedIndex:t}=e.target,n=e.target.options[t].value;this._pageSize=n,this._page=1,localStorage.setItem(p.PAGE_SIZE,n),d.start(),this.showSearchResults()}.bind(this);const o=document.querySelector("#search-locale"),i=localStorage.getItem(p.LOCALE)||"All";i&&(this._locale=o.value=i),o.onchange=function(e){const{selectedIndex:t}=e.target,n=e.target.options[t].value;this._locale=n,this._page=1,localStorage.setItem(p.LOCALE,n),d.start(),this.setupSearchIndexes(),this.showSearchResults()}.bind(this)}setupSearchIndexes(){const e=[];let t=this._searchResults,n=Object.keys(m).filter((e=>"All"!==e));"All"!==this._locale&&(n=n.filter((e=>e===this._locale)),t=t.filter((e=>{for(let t=n.length;t--;)if(e.meta.locale.toUpperCase()===n[t])return!0;return!1}))),n.map((t=>{e.push(`${t.toLowerCase()}/cuisine`),e.push(`${t.toLowerCase()}/neighborhood`),"NYC"===t&&e.push(`${t.toLowerCase()}/borough`)}));const r=new u("title");r.addIndex("title");for(let t=e.length;t--;)r.addIndex(["meta",e[t]]);r.addIndex(["meta","locale"]),r.addIndex("contents"),r.addDocuments(t),this._searcher=r}onDumpLoad(e){this._searchResults=e;const t=document.querySelector("#content.search article");t.insertBefore((()=>{const e=document.createElement("div");e.className="filters",e.innerHTML='\n        <div>Sort By</div>\n        <select name="sort-by" id="search-sort-by">\n            <option value="RELEVANCY">Relevancy</option>\n            <option value="NEWEST">Newest</option>\n            <option value="OLDEST">Oldest</option>\n        </select>\n        <div>Page Size</div>\n        <select name="search-page-size" id="search-page-size">\n            <option value="10">10</option>\n            <option value="25">25</option>\n            <option value="ALL">All</option>\n        </select>\n        <div>Locale</div>\n        <select name="search-locale" id="search-locale"></select>\n    ';const t=e.querySelector("#search-locale");return Object.keys(m).forEach(((e,n,r)=>{const o=document.createElement("option");if(o.value=e,o.text=e,t.appendChild(o),n===r.length-1){const e=document.createElement("option");e.value="All",e.text="All",t.appendChild(e)}})),e})(),t.firstElementChild.nextSibling),this.setupEventListeners(),this.setupSearchIndexes(),this.showSearchResults()}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function s(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function a(e){return this instanceof a?(this.v=e,this):new a(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var c=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function l(e){return"function"==typeof e}function u(e){return l(null==e?void 0:e.then)}var h,f=((h=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),h.prototype.constructor=h,h);function d(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var p=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,a;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=o(c),h=u.next();!h.done;h=u.next())h.value.remove(this)}catch(t){e={error:t}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}else c.remove(this);var d=this.initialTeardown;if(l(d))try{d()}catch(e){a=e instanceof f?e.errors:[e]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var v=o(p),m=v.next();!m.done;m=v.next()){var b=m.value;try{y(b)}catch(e){a=null!=a?a:[],e instanceof f?a=s(s([],i(a)),i(e.errors)):a.push(e)}}}catch(e){n={error:e}}finally{try{m&&!m.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}}if(a)throw new f(a)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&d(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&d(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}();function v(e){return e instanceof p||e&&"closed"in e&&l(e.remove)&&l(e.add)&&l(e.unsubscribe)}function y(e){l(e)?e():e.unsubscribe()}p.EMPTY;var m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=b.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,s([e,t],i(n))):setTimeout.apply(void 0,s([e,t],i(n)))},clearTimeout:function(e){var t=b.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function g(e){b.setTimeout((function(){var t=m.onUnhandledError;if(!t)throw e;t(e)}))}function _(){}var S=w("C",void 0,void 0);function w(e,t,n){return{kind:e,value:t,error:n}}var E=null,L=function(e){function n(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,v(t)&&t.add(n)):n.destination=O,n}return t(n,e),n.create=function(e,t,n){return new A(e,t,n)},n.prototype.next=function(e){this.isStopped?T(function(e){return w("N",e,void 0)}(e),this):this._next(e)},n.prototype.error=function(e){this.isStopped?T(w("E",void 0,e),this):(this.isStopped=!0,this._error(e))},n.prototype.complete=function(){this.isStopped?T(S,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(e){this.destination.next(e)},n.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(p),x=Function.prototype.bind;function C(e,t){return x.call(e,t)}var k=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){I(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){I(e)}else I(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){I(e)}},e}(),A=function(e){function n(t,n,r){var o,i,s=e.call(this)||this;return l(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&m.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&C(t.next,i),error:t.error&&C(t.error,i),complete:t.complete&&C(t.complete,i)}):o=t,s.destination=new k(o),s}return t(n,e),n}(L);function I(e){var t;m.useDeprecatedSynchronousErrorHandling?(t=e,m.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=t)):g(e)}function T(e,t){var n=m.onStoppedNotification;n&&b.setTimeout((function(){return n(e,t)}))}var O={closed:!0,next:_,error:function(e){throw e},complete:_},$="function"==typeof Symbol&&Symbol.observable||"@@observable";function F(e){return e}var D=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof L||function(e){return e&&l(e.next)&&l(e.error)&&l(e.complete)}(r)&&v(r)?e:new A(e,t,n);return function(e){if(m.useDeprecatedSynchronousErrorHandling){var t=!E;if(t&&(E={errorThrown:!1,error:null}),e(),t){var n=E,r=n.errorThrown,o=n.error;if(E=null,r)throw o}}else e()}((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=z(t))((function(t,r){var o=new A({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[$]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?F:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=z(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function z(e){var t;return null!==(t=null!=e?e:m.Promise)&&void 0!==t?t:Promise}function N(e){return l(e[$])}function P(e){return Symbol.asyncIterator&&l(null==e?void 0:e[Symbol.asyncIterator])}function B(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function j(e){return l(null==e?void 0:e[M])}function R(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=o[e](t)).value instanceof a?Promise.resolve(n.value.v).then(l,u):h(i[0][2],n)}catch(e){h(i[0][3],e)}var n}function l(e){c("next",e)}function u(e){c("throw",e)}function h(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,o;return r(this,(function(r){switch(r.label){case 0:t=e.getReader(),r.label=1;case 1:r.trys.push([1,,9,10]),r.label=2;case 2:return[4,a(t.read())];case 3:return n=r.sent(),o=n.value,n.done?[4,a(void 0)]:[3,5];case 4:return[2,r.sent()];case 5:return[4,a(o)];case 6:return[4,r.sent()];case 7:return r.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function q(e){return l(null==e?void 0:e.getReader)}function U(e){if(e instanceof D)return e;if(null!=e){if(N(e))return i=e,new D((function(e){var t=i[$]();if(l(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(c(e))return r=e,new D((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(u(e))return n=e,new D((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,g)}));if(P(e))return V(e);if(j(e))return t=e,new D((function(e){var n,r;try{for(var i=o(t),s=i.next();!s.done;s=i.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(q(e))return V(R(e))}var t,n,r,i;throw B(e)}function V(e){return new D((function(t){(function(e,t){var n,i,s,a,c,l,u,h;return c=this,l=void 0,h=function(){var c,l;return r(this,(function(r){switch(r.label){case 0:r.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=o(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),r.label=1;case 1:return[4,n.next()];case 2:if((i=r.sent()).done)return[3,4];if(c=i.value,t.next(c),t.closed)return[2];r.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=r.sent(),s={error:l},[3,11];case 6:return r.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:r.sent(),r.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((u=void 0)||(u=Promise))((function(e,t){function n(e){try{o(h.next(e))}catch(e){t(e)}}function r(e){try{o(h.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(n,r)}o((h=h.apply(c,l||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function Y(e){return function(t){if(function(e){return l(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function H(e,t,n,r,o){return new G(e,t,n,r,o)}var G=function(e){function n(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return t(n,e),n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},n}(L);function Z(e,t){return Y((function(n,r){var o=0;n.subscribe(H(r,(function(n){r.next(e.call(t,n,o++))})))}))}function W(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function J(e,t,n){return void 0===n&&(n=1/0),l(t)?J((function(n,r){return Z((function(e,o){return t(n,e,r,o)}))(U(e(n,r)))}),n):("number"==typeof t&&(n=t),Y((function(t,r){return function(e,t,n,r,o,i,s,a){var c=[],l=0,u=0,h=!1,f=function(){!h||c.length||l||t.complete()},d=function(e){return l<r?p(e):c.push(e)},p=function(e){l++;var o=!1;U(n(e,u++)).subscribe(H(t,(function(e){t.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{l--;for(;c.length&&l<r;)e=void 0,e=c.shift(),p(e);f()}catch(e){t.error(e)}var e})))};return e.subscribe(H(t,d,(function(){h=!0,f()}))),function(){}}(t,r,e,n)})))}var X=Array.isArray;var K=["addListener","removeListener"],Q=["addEventListener","removeEventListener"],ee=["on","off"];function te(e,t,n,r){if(l(n)&&(r=n,n=void 0),r)return te(e,t,n).pipe((o=r,Z((function(e){return function(e,t){return X(t)?e.apply(void 0,s([],i(t))):e(t)}(o,e)}))));var o,a=i(function(e){return l(e.addEventListener)&&l(e.removeEventListener)}(e)?Q.map((function(r){return function(o){return e[r](t,o,n)}})):function(e){return l(e.addListener)&&l(e.removeListener)}(e)?K.map(ne(e,t)):function(e){return l(e.on)&&l(e.off)}(e)?ee.map(ne(e,t)):[],2),u=a[0],h=a[1];if(!u&&c(e))return J((function(e){return te(e,t,n)}))(U(e));if(!u)throw new TypeError("Invalid event target");return new D((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return u(t),function(){return h(t)}}))}function ne(e,t){return function(n){return function(r){return e[n](t,r)}}}var re=new D((function(e){return e.complete()}));function oe(e){return e[e.length-1]}function ie(e,t){return void 0===t&&(t=0),Y((function(n,r){n.subscribe(H(r,(function(n){return W(r,e,(function(){return r.next(n)}),t)}),(function(){return W(r,e,(function(){return r.complete()}),t)}),(function(n){return W(r,e,(function(){return r.error(n)}),t)})))}))}function se(e,t){return void 0===t&&(t=0),Y((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function ae(e,t){if(!e)throw new Error("Iterable cannot be null");return new D((function(n){W(n,t,(function(){var r=e[Symbol.asyncIterator]();W(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return(t=oe(e))&&l(t.schedule)?e.pop():void 0;var t}(e),r=function(e,t){return"number"==typeof oe(e)?e.pop():1/0}(e),o=e;return o.length?1===o.length?U(o[0]):function(e){return void 0===e&&(e=1/0),J(F,e)}(r)(function(e,t){return t?function(e,t){if(null!=e){if(N(e))return function(e,t){return U(e).pipe(se(t),ie(t))}(e,t);if(c(e))return function(e,t){return new D((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(u(e))return function(e,t){return U(e).pipe(se(t),ie(t))}(e,t);if(P(e))return ae(e,t);if(j(e))return function(e,t){return new D((function(n){var r;return W(n,t,(function(){r=e[M](),W(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return l(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(q(e))return function(e,t){return ae(R(e),t)}(e,t)}throw B(e)}(e,t):U(e)}(o,n)):re}const le=new class{init(){this._localePickerButton=document.querySelector(".locale-group"),this._localeCaret=document.querySelector("#navigation .locale-picker"),this.localePickerObservable$=te(this._localePickerButton,"click"),this.localePickerObservable$.subscribe((e=>{this.toggleLocaleDropdown(e)})),this._localeDropdownComponent=document.querySelector("#navigation #locale-dropdown"),this.localeDropdownObservable$=new D,this._localeDropdownOption=document.querySelectorAll("#navigation .option"),this._localeDropdownOption.forEach((e=>{const t=te(e,"click");this.localeDropdownObservable$=ce(t,this.localeDropdownObservable$)})),this.localeDropdownObservable$.subscribe((e=>{this.handleDropdownClick(e)})),this._searchForm=document.querySelector("#search-form"),this._searchInputField=document.querySelector("#search-form input"),this._searchButton=document.querySelector("#navigation .search-link"),this._searchButton&&this._searchButton.addEventListener("click",(e=>this.toggleSearchForm(e)))}get isLocalePickerVisible(){return this._isLocalePickerVisible}get isSearchFormVisible(){return this._isSearchFormVisible}handleDropdownClick(e){const t=e.target;location.href="/"+t.getAttribute("value")}toggleSearchForm(e){e&&(e.preventDefault(),e.stopPropagation()),this._searchForm.classList.contains("hide")?(this._searchForm.classList.remove("hide"),this._searchInputField.focus(),this._isSearchFormVisible=!0):(this._searchForm.classList.add("hide"),this._isSearchFormVisible=!1)}toggleLocaleDropdown(e){e&&(e.preventDefault(),e.stopPropagation()),"none"===this._localeDropdownComponent.style.display?(this._isLocalePickerVisible=!0,this._localeDropdownComponent.style.display="block",this._localeCaret.classList.remove("fa-caret-down"),this._localeCaret.classList.add("fa-caret-up"),this._localeCaret.classList.add("active")):"block"===this._localeDropdownComponent.style.display&&(this._isLocalePickerVisible=!1,this._localeDropdownComponent.style.display="none",this._localeCaret.classList.remove("fa-caret-up"),this._localeCaret.classList.remove("active"),this._localeCaret.classList.add("fa-caret-down"))}},ue={SELECT_ALL_CUISINES:new CustomEvent("click",{detail:{selectAll:!0,section:"cuisines"}}),SELECT_ALL_LOCALES:new CustomEvent("click",{detail:{selectAll:!0,section:"locales"}}),SELECT_NONE_CUISINES:new CustomEvent("click",{detail:{selectNone:!0,section:"cuisines"}}),SELECT_NONE_LOCALES:new CustomEvent("click",{detail:{selectNone:!0,section:"locales"}})},he=new class{constructor(){this.localeFilterButtons$=new D,this.cuisineFilterButtons$=new D,this.toggleFilterButtons$=new D,this.firstLevelMap={},this.secondLevelMap={}}init(){this.toggleFiltersButton=document.querySelector("#filters"),this.statsTitles=document.querySelectorAll("#content .stats .title"),this.statsTitles.forEach((e=>{e.onclick=e=>this.handleStatsClick(e)})),document.querySelectorAll(".filter-button").forEach((e=>{const t=te(e,"click");this.toggleFilterButtons$=ce(this.toggleFilterButtons$,t)})),this.toggleFilterButtons$.subscribe((e=>this.handleToggleFilterClick(e))),this.localeFilterButtons=document.querySelectorAll(".locale-filters button"),this.localeFilterButtons.forEach((e=>{const t=te(e,"click");this.localeFilterButtons$=ce(this.localeFilterButtons$,t),e.classList.add("active")})),this.localeFilterButtons$.subscribe((e=>this.handleFilterClick(e))),this.cuisineFilterButtons=document.querySelectorAll(".cuisine-filters button"),this.cuisineFilterButtons.forEach((e=>{const t=te(e,"click");this.cuisineFilterButtons$=ce(this.cuisineFilterButtons$,t),e.classList.add("active")})),this.cuisineFilterButtons$.subscribe((e=>this.handleFilterClick(e))),document.querySelectorAll(".first-level").forEach((e=>{e.dataset.cuisine&&(this.firstLevelMap[e.dataset.cuisine]=e)})),document.querySelectorAll(".second-level a").forEach((e=>{e.dataset.locale&&(this.secondLevelMap[e.dataset.locale]instanceof Array?this.secondLevelMap[e.dataset.locale].push(e):this.secondLevelMap[e.dataset.locale]=[e])})),this.statsLevels=document.querySelectorAll(".first-level, .second-level, .third-level, .toggle-level"),this.statsLevels.forEach((e=>{e.onclick=e=>this.handleStatsClick(e)}))}handleToggleFilterClick(e){e.stopPropagation();const t=e.target;switch(t.dataset.action){case"toggle-filter":t.classList.toggle("active"),this.toggleFiltersButton.classList.toggle("hide"),t.textContent=this.toggleFiltersButton.classList.contains("hide")?"Show Filters":"Hide Filters";break;case"select-all":"cuisines"===t.dataset.section?this.cuisineFilterButtons.forEach((e=>e.dispatchEvent(ue.SELECT_ALL_CUISINES))):"locales"===t.dataset.section&&this.localeFilterButtons.forEach((e=>e.dispatchEvent(ue.SELECT_ALL_LOCALES)));break;case"select-none":"cuisines"===t.dataset.section?this.cuisineFilterButtons.forEach((e=>e.dispatchEvent(ue.SELECT_NONE_CUISINES))):"locales"===t.dataset.section&&this.localeFilterButtons.forEach((e=>e.dispatchEvent(ue.SELECT_NONE_LOCALES)))}}handleFilterClick(e){const t=e.target,n=e instanceof CustomEvent;if(n?e.detail.section===t.dataset.section&&(e.detail.selectAll&&!t.classList.contains("active")||e.detail.selectNone&&t.classList.contains("active"))&&t.classList.toggle("active"):t.classList.toggle("active"),t.dataset.tag){const e=this.firstLevelMap[t.dataset.tag];t.classList.contains("active")?e.classList.remove("hide"):t.classList.contains("active")||e.classList.add("hide")}else if(t.dataset.localeTag){const r=this.secondLevelMap[t.dataset.localeTag];r instanceof Array&&r.forEach((t=>{const r=t.classList.contains("hide");(!n||e.detail.selectNone!==r&&e.detail.selectAll!==!r)&&(r?t.classList.remove("hide"):r||t.classList.add("hide"))}))}}handleStatsClick(e){}};fetch("/sidebar/").then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html");document.querySelector("#main").appendChild(t.querySelector("#sidebar"))})),window.addEventListener("click",(function(e){const t=e.target,n=t.classList.contains("search-link")||"search"===t.id;le.isLocalePickerVisible&&le.toggleLocaleDropdown(),le.isSearchFormVisible&&!n&&le.toggleSearchForm()})),le.init(),window.location.pathname.indexOf("/stats/")>-1&&he.init(),window.location.pathname.indexOf("/search/")>-1&&n(80)})()})();